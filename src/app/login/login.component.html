<div class="page">
  <!-- Left branding column -->
  <aside class="left">
    <!-- Top-left brand (logo + name) -->
    <div class="top-left-brand">
      <img src="assets/logo.png" alt="Prodmaster logo" class="logo" />
      <div class="brand">
        <div class="name">Prodmaster</div>
        <div class="slogan">Manufacturing Excellence!</div>
      </div>
    </div>

    <!-- Centered heading/hero on the left for better UI balance -->
    <div class="left-hero">
      <h2>Secure access for your team</h2>
      <p class="lead">Sign in to manage production, planners, and reports.</p>
    </div>

    <!-- Middle punch line for emphasis -->
    <div class="left-punch">
      <h3>Streamline operations. Deliver excellence.</h3>
    </div>

    <div class="left-decor"><div class="glow"></div></div>
  </aside>

  <!-- Right login column -->
  <main class="right">
    <div class="card">
      <h1>Log in</h1>
      <p class="welcome">Welcome back!</p>

      <form (ngSubmit)="onLogin()" #f="ngForm" novalidate>
        <label class="label">Email</label>
        <input type="email" name="email" [(ngModel)]="email" required class="input" placeholder="you@company.com" />

        <label class="label">Password</label>
        <input type="password" name="password" [(ngModel)]="password" required class="input" placeholder="Password" />

        <div class="row">
          <label class="remember"><input type="checkbox" name="remember" [(ngModel)]="remember" /> Remember me</label>
          <button type="button" class="link" (click)="openForgot()">Forgot Password?</button>
        </div>

        <button type="submit" class="submit">Sign in</button>
      </form>
    </div>
  </main>

  <!-- Forgot Password Modal -->
  <div class="modal-backdrop" *ngIf="showForgotModal">
    <div class="modal-card">
      <button class="close" (click)="closeForgot()">âœ•</button>

      <div *ngIf="verificationStep === 0">
        <h2>Reset Password</h2>
        <p>Enter your account email</p>
        <input type="email" [(ngModel)]="forgotEmail" placeholder="you@company.com" class="input" />
        <div class="modal-actions">
          <button (click)="sendResetLink()" class="submit">Send Reset Link</button>
        </div>
      </div>

      <div *ngIf="verificationStep === 1">
        <h2>Verification</h2>
        <p>We sent a reset link (simulated). Click to enter the verification code.</p>
        <div class="modal-actions">
          <button (click)="startVerify()" class="submit">Enter Verification Code</button>
        </div>
      </div>

      <div *ngIf="verificationStep === 2">
        <h2>Enter Verification Code</h2>
        <p>Please enter the 6-digit code.</p>
        <input #codeInput type="text" maxlength="6" class="input" />
        <div class="modal-actions">
          <button (click)="verifyCode(codeInput.value)" class="submit">Verify</button>
        </div>
      </div>
    </div>
  </div>
</div>
